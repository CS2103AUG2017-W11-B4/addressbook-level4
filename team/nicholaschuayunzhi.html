<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.3">
<title>Nicholas Chua - Project Portfolio</title>
<link rel="stylesheet" href="../stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../stylesheets/coderay-asciidoctor.css">
</head>
<body class="article">
<div id="header">
<h1>Nicholas Chua - Project Portfolio</h1>
</div>
<div id="content">
<div class="sect1">
<h2 id="span-class-image-img-src-images-engsheng_projectheader-png-alt-engsheng-projectheader-width-900-span"><a class="link" href="#span-class-image-img-src-images-engsheng_projectheader-png-alt-engsheng-projectheader-width-900-span"><span class="image"><img src="../images/engsheng_projectheader.png" alt="engsheng projectheader" width="900"></span></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>UNIFY</code> is a Command Line Interface AddressBook that helps users manage your contacts efficiently. The user interacts with it using a CLI, and it has a GUI created with JavaFX. It is written in Java, and has about 12 kLoC.</p>
</div>
<div class="paragraph">
<p><strong>Code contributed</strong>: [<a href="https://github.com/CS2103AUG2017-W11-B4/main/blob/master/collated/main/nicholaschuayunzhi.md">Functional code</a>] [<a href="https://github.com/CS2103AUG2017-W11-B4/main/blob/master/collated/test/nicholaschuayunzhi.md">Test code</a>] {give links to collated code files}</p>
</div>
<div class="sect2">
<h3 id="span-class-image-img-src-images-engsheng_header_enhancementadded-png-alt-engsheng-header-enhancementadded-width-900-span"><a class="link" href="#span-class-image-img-src-images-engsheng_header_enhancementadded-png-alt-engsheng-header-enhancementadded-width-900-span"><span class="image"><img src="../images/engsheng_header_enhancementadded.png" alt="engsheng header enhancementadded" width="900"></span></a></h3>

</div>
<div class="sect2">
<h3 id="enhancement-added-find-by-details"><a class="link" href="#enhancement-added-find-by-details">Enhancement Added: Find by Details</a></h3>
<div class="sect3">
<h4 id="external-behavior"><a class="link" href="#external-behavior">External behavior</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: User Guide]</mark></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="searching-for-people-by-details-code-find-code"><a class="link" href="#searching-for-people-by-details-code-find-code">Searching for people by details: <code>find</code></a></h3>
<div class="imageblock">
<div class="content">
<img src="../images/UG_commandheader_find.png" alt="UG commandheader find" width="500">
</div>
</div>
<div class="paragraph">
<p>Looking for an old friend who stayed in Bishan? Identifying the person who sent you a message from his e-mail made in Primary School?
Unify&#8217;s <code>find</code> command allows you to search for people based on their details, which include:<br></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Name</p>
</li>
<li>
<p>Phone</p>
</li>
<li>
<p>E-mail</p>
</li>
<li>
<p>Address</p>
</li>
<li>
<p>Tags</p>
</li>
<li>
<p>Remark</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UG_header_format.png" alt="UG header format" width="400">
</div>
</div>
<div class="paragraph">
<p>Format: <code>find [n/NAME] [p/PHONE_NUMBER] [e/EMAIL] [a/ADDRESS] [t/TAG]&#8230;&#8203;</code><br></p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UG_header_alias.png" alt="UG header alias" width="400">
</div>
</div>
<div class="paragraph">
<p>Alias: <code>search</code>, <code>filter</code></p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UG_header_examples.png" alt="UG header examples" width="400">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>find n/John</code><br>
Returns <code>john</code> and <code>John Doe</code></p>
</li>
<li>
<p><code>find n/John t/friend p/123</code><br>
Returns any person whose name contains <code>john</code>, has a tag which contains <code>friend</code> and whose phone contains <code>123</code>.</p>
</li>
<li>
<p><code>find a/Blk 100 Street</code><br>
Returns any person whose address contains <code>Blk 100 Street</code> (case-insensitive). Does not return person whose address is <code>Street Blk 100</code>.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/header_note.png" alt="header note" width="400">
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Only people matching all the keywords will be returned (i.e. <code>AND</code> search).</p>
<div class="ulist">
<ul>
<li>
<p>e.g. <code>n/Hans n/Bo</code> will not return <code>Hans Gruber</code> or <code>Bo Yang</code> but will return <code>Hans Holbo</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>The search is case insensitive. e.g <code>n/hans</code> will match <code>Hans</code></p>
</li>
<li>
<p>The order of the keywords does not matter. e.g. <code>n/Hans n/Bo</code> will match <code>Bo Hans</code></p>
</li>
<li>
<p>You may search for different fields by adding a prefix. ([n/NAME] [p/PHONE] [e/EMAIL] [a/ADDRESS] [t/TAG])</p>
</li>
<li>
<p>If the first field is a name, you do not need a prefix. (find NAME [MORE_PREFIX/KEYWORDS]&#8230;&#8203;)<br></p>
</li>
<li>
<p>Words will be matched if the keyword is contained by the peron&#8217;s details e.g. <code>n/Han</code> will identify <code>Hans</code>, <code>n/Gabrielle</code> will not identify <code>Gabriel</code>.</p>
</li>
<li>
<p>For Remark, only people whose remark sentence contains your query will be found. A full word match is required but it is case-insensitive.</p>
<div class="ulist">
<ul>
<li>
<p>For example <code>find r/swim</code> will identify John whose remark is <code>likes to swim</code> but not Hans whose remark is <code>likes swimming</code>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UG_header_examples.png" alt="UG header examples" width="400">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>find n/John</code><br>
Returns <code>john</code> and <code>John Doe</code></p>
</li>
<li>
<p><code>find n/John t/friend p/123</code><br>
Returns any person whose name contains <code>john</code>, has a tag which contains <code>friend</code> and whose phone contains <code>123</code>.</p>
</li>
<li>
<p><code>find a/Blk 100 Street</code><br>
Returns any person whose address contains <code>Blk 100 Street</code> (case-insensitive). Does not return person whose address is <code>Street Blk 100</code>.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UG_header_stepbystep.png" alt="UG header stepbystep" width="400">
</div>
</div>
<div class="paragraph">
<p><br>
<span class="image"><img src="../images/step1.png" alt="step1" width="70"></span> Type <code>find</code> into the command box first, then follow the format as shown above, after which press <kbd>Enter</kbd> to execute it.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UG_find1.png" alt="UG find1" width="590">
</div>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/step2.png" alt="step2" width="70"></span> The result box will display (number) persons listed!</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UG_find2.png" alt="UG find2" width="590">
</div>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/step3.png" alt="step3" width="70"></span> You can click on any other of people listed in the list of contacts or do a <code>select</code> command.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/step4.png" alt="step4" width="70"></span> The details of the selected person will be displayed under the Contact Details.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UG_find3.png" alt="UG find3" width="590">
</div>
</div>
<div class="paragraph">
<p><br></p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
You can also click on tags to do a search for that tag. (ie. find t/CLICKED_TAG);<br>
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UG_header_stepbystep.png" alt="UG header stepbystep" width="400">
</div>
</div>
<div class="paragraph">
<p><br></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/step1.png" alt="step1" width="70"></span> Click on the tag you wish to search for.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UG_findtag1.png" alt="UG findtag1" width="590">
</div>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/step2.png" alt="step2" width="70"></span> The result box will display (number) persons listed!</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UG_find2.png" alt="UG find2" width="590">
</div>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/step3.png" alt="step3" width="70"></span> You can click on any other of people listed in the list of contacts or do a <code>select</code> command.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/step4.png" alt="step4" width="70"></span> The details of the selected person will be displayed under the Contact Details.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UG_find3.png" alt="UG find3" width="590">
</div>
</div>
<div class="paragraph">
<p><br></p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/divider.png" alt="divider" width="900">
</div>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
<div class="sect3">
<h4 id="justification"><a class="link" href="#justification">Justification</a></h4>
<div class="paragraph">
<p>Find by details offers a natural solution for users to search for their contacts. Most of the time, a user would not have the name of the contact
they are searching for. They may only remember the contact&#8217;s home address for instance or maybe they are trying to trace a missed call. This feature
allows users to filter through the address book based on any person&#8217;s details to get to the contact they are looking for.</p>
</div>
<div class="paragraph">
<p>At the same time, this feature saves time for the user. It is not uncommon to see people with the same name. By allowing an additional search field,
users are able to narrow down their search more quickly. For example, to find John who is tagged as a classmate, he can just type <code>find John t/classmate</code>
instead of searching through each and every <code>John</code> in his addressbook.</p>
</div>
</div>
<div class="sect3">
<h4 id="implementation"><a class="link" href="#implementation">Implementation</a></h4>
<hr>
<div class="paragraph">
<p><mark>Start of Extract [from: Developer Guide]</mark></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="undo-redo-mechanism"><a class="link" href="#undo-redo-mechanism">Undo/Redo mechanism</a></h3>
<div class="paragraph">
<p>The undo/redo mechanism is facilitated by an <code>UndoRedoStack</code>, which resides inside <code>LogicManager</code>. It supports undoing and redoing of commands that modifies the state of the address book (e.g. <code>add</code>, <code>edit</code>). Such commands will inherit from <code>UndoableCommand</code>.</p>
</div>
<div class="paragraph">
<p><code>UndoRedoStack</code> only deals with <code>UndoableCommands</code>. Commands that cannot be undone will inherit from <code>Command</code> instead. The following diagram shows the inheritance diagram for commands:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/LogicCommandClassDiagram.png" alt="LogicCommandClassDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p>As you can see from the diagram, <code>UndoableCommand</code> adds an extra layer between the abstract <code>Command</code> class and concrete commands that can be undone, such as the <code>DeleteCommand</code>. Note that extra tasks need to be done when executing a command in an <em>undoable</em> way, such as saving the state of the address book before execution. <code>UndoableCommand</code> contains the high-level algorithm for those extra tasks while the child classes implements the details of how to execute the specific command. Note that this technique of putting the high-level algorithm in the parent class and lower-level steps of the algorithm in child classes is also known as the <a href="https://www.tutorialspoint.com/design_pattern/template_pattern.htm">template pattern</a>.</p>
</div>
<div class="paragraph">
<p>Commands that are not undoable are implemented this way:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">ListCommand</span> <span class="directive">extends</span> Command {
    <span class="annotation">@Override</span>
    <span class="directive">public</span> CommandResult execute() {
        <span class="comment">// ... list logic ...</span>
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>With the extra layer, the commands that are undoable are implemented this way:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="directive">abstract</span> <span class="type">class</span> <span class="class">UndoableCommand</span> <span class="directive">extends</span> Command {
    <span class="annotation">@Override</span>
    <span class="directive">public</span> CommandResult execute() {
        <span class="comment">// ... undo logic ...</span>

        executeUndoableCommand();
    }
}

<span class="directive">public</span> <span class="type">class</span> <span class="class">DeleteCommand</span> <span class="directive">extends</span> UndoableCommand {
    <span class="annotation">@Override</span>
    <span class="directive">public</span> CommandResult executeUndoableCommand() {
        <span class="comment">// ... delete logic ...</span>
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Suppose that the user has just launched the application. The <code>UndoRedoStack</code> will be empty at the beginning.</p>
</div>
<div class="paragraph">
<p>The user executes a new <code>UndoableCommand</code>, <code>delete 5</code>, to delete the 5th person in the address book. The current state of the address book is saved before the <code>delete 5</code> command executes. The <code>delete 5</code> command will then be pushed onto the <code>undoStack</code> (the current state is saved together with the command).</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UndoRedoStartingStackDiagram.png" alt="UndoRedoStartingStackDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p>As the user continues to use the program, more commands are added into the <code>undoStack</code>. For example, the user may execute <code>add n/David &#8230;&#8203;</code> to add a new person.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UndoRedoNewCommand1StackDiagram.png" alt="UndoRedoNewCommand1StackDiagram" width="800">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If a command fails its execution, it will not be pushed to the <code>UndoRedoStack</code> at all.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The user now decides that adding the person was a mistake, and decides to undo that action using <code>undo</code>.</p>
</div>
<div class="paragraph">
<p>We will pop the most recent command out of the <code>undoStack</code> and push it back to the <code>redoStack</code>. We will restore the address book to the state before the <code>add</code> command executed.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UndoRedoExecuteUndoStackDiagram.png" alt="UndoRedoExecuteUndoStackDiagram" width="800">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the <code>undoStack</code> is empty, then there are no other commands left to be undone, and an <code>Exception</code> will be thrown when popping the <code>undoStack</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following sequence diagram shows how the undo operation works:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UndoRedoSequenceDiagram.png" alt="UndoRedoSequenceDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p>The redo does the exact opposite (pops from <code>redoStack</code>, push to <code>undoStack</code>, and restores the address book to the state after the command is executed).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the <code>redoStack</code> is empty, then there are no other commands left to be redone, and an <code>Exception</code> will be thrown when popping the <code>redoStack</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The user now decides to execute a new command, <code>clear</code>. As before, <code>clear</code> will be pushed into the <code>undoStack</code>. This time the <code>redoStack</code> is no longer empty. It will be purged as it no longer make sense to redo the <code>add n/David</code> command (this is the behavior that most modern desktop applications follow).</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UndoRedoNewCommand2StackDiagram.png" alt="UndoRedoNewCommand2StackDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p>Commands that are not undoable are not added into the <code>undoStack</code>. For example, <code>list</code>, which inherits from <code>Command</code> rather than <code>UndoableCommand</code>, will not be added after execution:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UndoRedoNewCommand3StackDiagram.png" alt="UndoRedoNewCommand3StackDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p>The following activity diagram summarize what happens inside the <code>UndoRedoStack</code> when a user executes a new command:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UndoRedoActivityDiagram.png" alt="UndoRedoActivityDiagram" width="200">
</div>
</div>
<div class="sect3">
<h4 id="design-considerations"><a class="link" href="#design-considerations">Design Considerations</a></h4>
<div class="paragraph">
<p><strong>Aspect:</strong> Implementation of <code>UndoableCommand</code><br>
<strong>Alternative 1 (current choice):</strong> Add a new abstract method <code>executeUndoableCommand()</code><br>
<strong>Pros:</strong> We will not lose any undone/redone functionality as it is now part of the default behaviour. Classes that deal with <code>Command</code> do not have to know that <code>executeUndoableCommand()</code> exist.<br>
<strong>Cons:</strong> Hard for new developers to understand the template pattern.<br>
<strong>Alternative 2:</strong> Just override <code>execute()</code><br>
<strong>Pros:</strong> Does not involve the template pattern, easier for new developers to understand.<br>
<strong>Cons:</strong> Classes that inherit from <code>UndoableCommand</code> must remember to call <code>super.execute()</code>, or lose the ability to undo/redo.</p>
</div>
<hr>
<div class="paragraph">
<p><strong>Aspect:</strong> How undo &amp; redo executes<br>
<strong>Alternative 1 (current choice):</strong> Saves the entire address book.<br>
<strong>Pros:</strong> Easy to implement.<br>
<strong>Cons:</strong> May have performance issues in terms of memory usage.<br>
<strong>Alternative 2:</strong> Individual command knows how to undo/redo by itself.<br>
<strong>Pros:</strong> Will use less memory (e.g. for <code>delete</code>, just save the person being deleted).<br>
<strong>Cons:</strong> We must ensure that the implementation of each individual command are correct.</p>
</div>
<hr>
<div class="paragraph">
<p><strong>Aspect:</strong> Type of commands that can be undone/redone<br>
<strong>Alternative 1 (current choice):</strong> Only include commands that modifies the address book (<code>add</code>, <code>clear</code>, <code>edit</code>).<br>
<strong>Pros:</strong> We only revert changes that are hard to change back (the view can easily be re-modified as no data are lost).<br>
<strong>Cons:</strong> User might think that undo also applies when the list is modified (undoing filtering for example), only to realize that it does not do that, after executing <code>undo</code>.<br>
<strong>Alternative 2:</strong> Include all commands.<br>
<strong>Pros:</strong> Might be more intuitive for the user.<br>
<strong>Cons:</strong> User have no way of skipping such commands if he or she just want to reset the state of the address book and not the view.<br>
<strong>Additional Info:</strong> See our discussion  <a href="https://github.com/se-edu/addressbook-level4/issues/390#issuecomment-298936672">here</a>.</p>
</div>
<hr>
<div class="paragraph">
<p><strong>Aspect:</strong> Data structure to support the undo/redo commands<br>
<strong>Alternative 1 (current choice):</strong> Use separate stack for undo and redo<br>
<strong>Pros:</strong> Easy to understand for new Computer Science student undergraduates to understand, who are likely to be the new incoming developers of our project.<br>
<strong>Cons:</strong> Logic is duplicated twice. For example, when a new command is executed, we must remember to update both <code>HistoryManager</code> and <code>UndoRedoStack</code>.<br>
<strong>Alternative 2:</strong> Use <code>HistoryManager</code> for undo/redo<br>
<strong>Pros:</strong> We do not need to maintain a separate stack, and just reuse what is already in the codebase.<br>
<strong>Cons:</strong> Requires dealing with commands that have already been undone: We must remember to skip these commands. Violates Single Responsibility Principle and Separation of Concerns as <code>HistoryManager</code> now needs to do two different things.<br></p>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
</div>
</div>
<div class="sect2">
<h3 id="enhancement-proposed-add-command-code-remark-code"><a class="link" href="#enhancement-proposed-add-command-code-remark-code">Enhancement Proposed: Add command <code>remark</code></a></h3>
<div class="paragraph">
<p>{Explain similar to the Undo/Redo feature above.}</p>
</div>
</div>
<div class="sect2">
<h3 id="other-contributions"><a class="link" href="#other-contributions">Other contributions</a></h3>
<div class="ulist">
<ul>
<li>
<p>Updated the GUI color scheme (Pull requests <a href="https://github.com">#33</a>, <a href="https://github.com">#34</a>)</p>
</li>
<li>
<p>Wrote additional tests to increase coverage from 88% to 92% (Pull requests <a href="https://github.com">#36</a>, <a href="https://github.com">#38</a>)</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="project-powerpointlabs"><a class="link" href="#project-powerpointlabs">Project: PowerPointLabs</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>{Optionally (not graded), you may include other projects in your portfolio.}</p>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2017-11-12 05:21:19 +00:00
</div>
</div>
</body>
</html>