<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.3">
<title>Nicholas Chua - Project Portfolio</title>
<link rel="stylesheet" href="../stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../stylesheets/coderay-asciidoctor.css">
</head>
<body class="article">
<div id="header">
<h1>Nicholas Chua - Project Portfolio</h1>
</div>
<div id="content">
<div class="sect1">
<h2 id="span-class-image-img-src-images-engsheng_projectheader-png-alt-engsheng-projectheader-width-900-span"><a class="link" href="#span-class-image-img-src-images-engsheng_projectheader-png-alt-engsheng-projectheader-width-900-span"><span class="image"><img src="../images/engsheng_projectheader.png" alt="engsheng projectheader" width="900"></span></a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>UNIFY</code> is a Command Line Interface AddressBook that helps users manage your contacts efficiently. The user interacts with it using a CLI, and it has a GUI created with JavaFX. It is written in Java, and has about 12 kLoC.</p>
</div>
<div class="paragraph">
<p><strong>Code contributed</strong>: [<a href="https://github.com/CS2103AUG2017-W11-B4/main/blob/master/collated/main/nicholaschuayunzhi.md">Functional code</a>] [<a href="https://github.com/CS2103AUG2017-W11-B4/main/blob/master/collated/test/nicholaschuayunzhi.md">Test code</a>]</p>
</div>
<div class="sect2">
<h3 id="span-class-image-img-src-images-engsheng_header_enhancementadded-png-alt-engsheng-header-enhancementadded-width-900-span"><a class="link" href="#span-class-image-img-src-images-engsheng_header_enhancementadded-png-alt-engsheng-header-enhancementadded-width-900-span"><span class="image"><img src="../images/engsheng_header_enhancementadded.png" alt="engsheng header enhancementadded" width="900"></span></a></h3>

</div>
<div class="sect2">
<h3 id="enhancement-added-find-by-details"><a class="link" href="#enhancement-added-find-by-details">Enhancement Added: Find by Details</a></h3>
<hr>
<div class="sect3">
<h4 id="external-behavior"><a class="link" href="#external-behavior">External behavior</a></h4>
<div class="paragraph">
<p><mark>Start of Extract [from: User Guide]</mark></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="find"><a class="link" href="#find">Searching for people by details: <code>find</code></a></h3>
<div class="imageblock">
<div class="content">
<img src="../images/UG_commandheader_find.png" alt="UG commandheader find" width="500">
</div>
</div>
<div class="paragraph">
<p>Looking for an old friend who stayed in Bishan? Identifying the person who sent you a message from his e-mail made in Primary School?
Unify&#8217;s <code>find</code> command allows you to search for people based on their details, which include:<br></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Name</p>
</li>
<li>
<p>Phone</p>
</li>
<li>
<p>E-mail</p>
</li>
<li>
<p>Address</p>
</li>
<li>
<p>Tags</p>
</li>
<li>
<p>Remark</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UG_header_format.png" alt="UG header format" width="400">
</div>
</div>
<div class="paragraph">
<p>Format: <code>find [n/NAME] [p/PHONE_NUMBER] [e/EMAIL] [a/ADDRESS] [t/TAG] [r/REMARK]&#8230;&#8203;</code><br></p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UG_header_alias.png" alt="UG header alias" width="400">
</div>
</div>
<div class="paragraph">
<p>Alias: <code>search</code>, <code>filter</code></p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UG_header_examples.png" alt="UG header examples" width="400">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>find n/John</code><br>
Returns <code>john</code> and <code>John Doe</code></p>
</li>
<li>
<p><code>find n/John t/friend p/123</code><br>
Returns any person whose name contains <code>john</code>, has a tag which contains <code>friend</code> and whose phone contains <code>123</code>.</p>
</li>
<li>
<p><code>find a/Blk 100 Street</code><br>
Returns any person whose address contains <code>Blk 100 Street</code> (case-insensitive). Does not return person whose address is <code>Street Blk 100</code>.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/header_note.png" alt="header note" width="400">
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Only people matching all the keywords will be returned (i.e. <code>AND</code> search).</p>
<div class="ulist">
<ul>
<li>
<p>e.g. <code>n/Hans n/Bo</code> will not return <code>Hans Gruber</code> or <code>Bo Yang</code> but will return <code>Hans Holbo</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>The search is case insensitive. e.g <code>n/hans</code> will match <code>Hans</code></p>
</li>
<li>
<p>The order of the keywords does not matter. e.g. <code>n/Hans n/Bo</code> will match <code>Bo Hans</code></p>
</li>
<li>
<p>You may search for different fields by adding a prefix. ([n/NAME] [p/PHONE] [e/EMAIL] [a/ADDRESS] [t/TAG])</p>
</li>
<li>
<p>If the first field is a name, you do not need a prefix. (find NAME [MORE_PREFIX/KEYWORDS]&#8230;&#8203;)<br></p>
</li>
<li>
<p>Words will be matched if the keyword is contained by the peron&#8217;s details e.g. <code>n/Han</code> will identify <code>Hans</code>, <code>n/Gabrielle</code> will not identify <code>Gabriel</code>.</p>
</li>
<li>
<p>For Remark, only people whose remark sentence contains your query will be found. A full word match is required but it is case-insensitive.</p>
<div class="ulist">
<ul>
<li>
<p>For example <code>find r/swim</code> will identify John whose remark is <code>likes to swim</code> but not Hans whose remark is <code>likes swimming</code>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UG_header_examples.png" alt="UG header examples" width="400">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>find n/John</code><br>
Returns <code>john</code> and <code>John Doe</code></p>
</li>
<li>
<p><code>find n/John t/friend p/123</code><br>
Returns any person whose name contains <code>john</code>, has a tag which contains <code>friend</code> and whose phone contains <code>123</code>.</p>
</li>
<li>
<p><code>find a/Blk 100 Street</code><br>
Returns any person whose address contains <code>Blk 100 Street</code> (case-insensitive). Does not return person whose address is <code>Street Blk 100</code>.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UG_header_stepbystep.png" alt="UG header stepbystep" width="400">
</div>
</div>
<div class="paragraph">
<p><br>
<span class="image"><img src="../images/step1.png" alt="step1" width="70"></span> Type <code>find</code> into the command box first, then follow the format as shown above, after which press <kbd>Enter</kbd> to execute it.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UG_find1.png" alt="UG find1" width="590">
</div>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/step2.png" alt="step2" width="70"></span> The result box will display (number) persons listed!</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UG_find2.png" alt="UG find2" width="590">
</div>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/step3.png" alt="step3" width="70"></span> You can click on any other of people listed in the list of contacts or do a <code>select</code> command.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/step4.png" alt="step4" width="70"></span> The details of the selected person will be displayed under the Contact Details.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UG_find3.png" alt="UG find3" width="590">
</div>
</div>
<div class="paragraph">
<p><br></p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
You can also click on tags to do a search for that tag. (ie. find t/CLICKED_TAG);<br>
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UG_header_stepbystep.png" alt="UG header stepbystep" width="400">
</div>
</div>
<div class="paragraph">
<p><br></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/step1.png" alt="step1" width="70"></span> Click on the tag you wish to search for.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UG_findtag1.png" alt="UG findtag1" width="590">
</div>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/step2.png" alt="step2" width="70"></span> The result box will display (number) persons listed!</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UG_find2.png" alt="UG find2" width="590">
</div>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/step3.png" alt="step3" width="70"></span> You can click on any other of people listed in the list of contacts or do a <code>select</code> command.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/step4.png" alt="step4" width="70"></span> The details of the selected person will be displayed under the Contact Details.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UG_find3.png" alt="UG find3" width="590">
</div>
</div>
<div class="paragraph">
<p><br></p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/divider.png" alt="divider" width="900">
</div>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
<div class="sect3">
<h4 id="justification"><a class="link" href="#justification">Justification</a></h4>
<div class="paragraph">
<p>Find by details offers a natural solution for users to search for their contacts. Most of the time, a user would not have the name of the contact
they are searching for. They may only remember the contact&#8217;s home address for instance or maybe they are trying to trace a missed call. This feature
allows users to filter through the address book based on any person&#8217;s details to get to the contact they are looking for.</p>
</div>
<div class="paragraph">
<p>At the same time, this feature saves time for the user. It is not uncommon to see people with the same name. By allowing an additional search field,
users are able to narrow down their search more quickly. For example, to find John who is tagged as a classmate, he can just type <code>find John t/classmate</code>
instead of searching through each and every <code>John</code> in his address book.</p>
</div>
<hr>
</div>
<div class="sect3">
<h4 id="implementation"><a class="link" href="#implementation">Implementation</a></h4>
<div class="paragraph">
<p><mark>Start of Extract [from: Developer Guide]</mark></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="find-by-person-details"><a class="link" href="#find-by-person-details">Find by Person Details</a></h3>
<div class="paragraph">
<p>Unify offers users the option to find people by their details. To implement the new command syntax,
<code>FindCommandParser</code> makes use of the <code>ArgumentTokenizer#tokenize</code> to generate an <code>ArgumentMultimap</code>. The <code>ArgumentMultimap&#8217;s</code>
<code>key</code> contains the detail&#8217;s prefix and <code>value</code> contains the keywords that succeed that prefix.</p>
</div>
<div class="paragraph">
<p>For each detail, there are specific <code>Predicates</code> that are defined. They are <code>AddressContainsKeywordPredicate</code>, <code>EmailContainsKeywordPredicate</code>,
<code>NameContainsKeywordPredicate</code>, <code>PhoneContainsKeywordPredicate</code> and <code>TagsContainKeywordPredicate</code>, <code>RemarkContainsKeywordPredicate</code>. The implementation is as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">DetailContainsKeywordPredicate</span> <span class="directive">implements</span> <span class="predefined-type">Predicate</span>&lt;ReadOnlyPerson&gt; {

    ...

    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="type">boolean</span> test(ReadOnlyPerson person) {
        <span class="predefined-type">String</span> detail = person.getDetail(); <span class="comment">//getter for person's specific detail</span>

        <span class="comment">//we convert detail to lowercase and check if it contains the lower case keyword</span>
        <span class="keyword">return</span> detail.toLowerCase().contains(keyword.toLowerCase());
    }

}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For Tags, we test for all tags and check for at least one <code>String#contains</code> match. For Remark, we check using <code>StringUtil#containsWordIgnoreCase</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>However, just having a specific <code>Predicate</code> for each detail is insufficient as <code>ModelManager#updateFilteredPersonList()</code>
only takes only a single <code>Predicate</code> as an argument.
As such, to accept multiple details in one query, we need to encapsulate multiple <code>Predicates</code> into one <code>Predicate</code>.
This is encapsulated by <code>PersonContainsFieldsPredicate</code> which takes in a list of <code>Predicates</code> as an argument.</p>
</div>
<div class="paragraph">
<p>Internally, the <code>Predicates</code> are stored in a <code>HashSet</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">public</span> <span class="type">class</span> <span class="class">PersonContainsFieldsPredicate</span> <span class="directive">implements</span> <span class="predefined-type">Predicate</span>&lt;ReadOnlyPerson&gt; {

    ...

    public PersonContainsFieldsPredicate(<span class="predefined-type">List</span>&lt;<span class="predefined-type">Predicate</span>&gt; predicates) {
        <span class="local-variable">this</span>.predicates = predicates.stream().collect(Collectors.toSet()); <span class="comment">//Collects in a HashSet</span>
    }

    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="type">boolean</span> test(ReadOnlyPerson person) {
        <span class="keyword">for</span> (<span class="predefined-type">Predicate</span> searchQuery : predicates) {
            <span class="keyword">if</span> (!searchQuery.test(person)) {
                <span class="keyword">return</span> <span class="predefined-constant">false</span>;
            }
        }
        <span class="keyword">return</span> <span class="predefined-constant">true</span>;
    }</code></pre>
</div>
</div>
<div class="paragraph">
<p>For <code>PersonContainsFieldsPredicate#test</code> we iterate through all <code>Predicates</code> and return <code>false</code> if any of their <code>#test</code> calls return false. Thus this <code>Predicate</code> will check for all matches before return <code>true</code> (ie an <strong>AND</strong> find).
Consider a <code>PersonContainsFieldsPredicate p</code> with <code>NameContainsKeywordPredicate n</code>, <code>AddressContainsKeywordPredicate a</code> and a <code>ReadOnlyPerson rop</code>. <code>rop&#8217;s</code> <code>Name</code> contains keyword found in <code>n</code> but <code>Address</code> does not contain the keyword found in <code>a</code>.
The following sequence diagram shows <code>p</code> being tested on <code>rop</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/PersonContainsFieldsPredicate.png" alt="PersonContainsFieldsPredicate" width="800">
</div>
</div>
<div class="paragraph">
<p>We can pass this <code>PersonContainsFieldsPredicate</code> into <code>ModelManager#updateFilteredPersonList()</code> which updates <code>FilteredList</code> the with the new <code>Predicate</code> which updates
the list to suit the parameters of the find query.</p>
</div>
<div class="sect3">
<h4 id="design-considerations"><a class="link" href="#design-considerations">Design Considerations</a></h4>
<div class="paragraph">
<p><strong>Aspect:</strong> Storing of <code>Predicates</code> in <code>PersonContainsFieldsPredicate</code><br>
<strong>Alternative 1 (current choice):</strong> Store in a <code>HashSet</code><br>
<strong>Pros:</strong> We can filter out duplicate <code>Predicates</code>. <code>equals()</code> implementation is cleaner.<br>
<strong>Cons:</strong> Must override <code>hashCode()</code> for new <code>Predicate</code>. Constructor must iterate through list to create <code>Set</code>.<br>
<strong>Alternative 2:</strong> Store in a <code>List</code><br>
<strong>Pros:</strong> Do not need to override <code>hashCode()</code> for new <code>Predicate</code>. Constructor only needs to assign constructor arguments.<br>
<strong>Cons:</strong> <code>equals()</code> results in O(n<sup>2</sup>) execution. Also results in 2 nested <code>for</code> loops.<br></p>
</div>
<hr>
<div class="paragraph">
<p><strong>Aspect:</strong> Encapsulation of multiple <code>Predicates</code><br>
<strong>Alternative 1 (current choice):</strong> Create different <code>Predicates</code> and wrap them in one <code>Predicate</code><br>
<strong>Pros:</strong> Modular code: we can easily implement an <strong>OR</strong> find by creating a new wrapper <code>Predicate</code> and reusing the existing <code>Predicates</code>. <code>PersonContainsFieldsPredicate</code>
does not have to be aware of new <code>Predicates</code><br>
<strong>Cons:</strong> Every new field in <code>ReadOnlyPerson</code> requires a new <code>Predicate</code><br>
<strong>Alternative 2:</strong> Create one <code>Predicate</code> that implements test by switch statements<br>
<strong>Pros:</strong> A new field can be added by adding an additional case to the switch statement<br>
<strong>Cons:</strong> Implementing <strong>OR</strong> find will require the reuse of switch statements in a new <code>Predicate</code>. When creating a new <code>Predicate</code>, all the switch
 statements must be updated.<br></p>
</div>
<hr>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
</div>
</div>
<div class="sect2">
<h3 id="span-class-image-img-src-images-engsheng_header_enhancementadded-png-alt-engsheng-header-enhancementadded-width-900-span-2"><a class="link" href="#span-class-image-img-src-images-engsheng_header_enhancementadded-png-alt-engsheng-header-enhancementadded-width-900-span-2"><span class="image"><img src="../images/engsheng_header_enhancementadded.png" alt="engsheng header enhancementadded" width="900"></span></a></h3>

</div>
<div class="sect2">
<h3 id="enhancement-added-inline-hints"><a class="link" href="#enhancement-added-inline-hints">Enhancement Added: Inline Hints</a></h3>
<hr>
<div class="sect3">
<h4 id="external-behavior-2"><a class="link" href="#external-behavior-2">External behavior</a></h4>
<div class="paragraph">
<p><mark>Start of Extract [from: User Guide]</mark></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Don&#8217;t fret! Unify offers inline hints to prompt you what to type next,</p>
<div class="imageblock">
<div class="content">
<img src="../images/UG_Hints.png" alt="UG Hints" width="300">
</div>
</div>
<div class="paragraph">
<p>and will validate your input and display icons matching your command as you type.<br></p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UG_Validation.png" alt="UG Validation" width="300">
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
</div>
<div class="sect3">
<h4 id="justification-2"><a class="link" href="#justification-2">Justification</a></h4>
<div class="paragraph">
<p>Unify&#8217;s command line interface (CLI) may be daunting to new users who are not familiar with the command line.
Users may also be unsure of the different command formats that Unify has. As such we need a way to provide suggestions to the user on what to type next.</p>
</div>
<div class="paragraph">
<p>Inline hints offers this suggestion in a non obstructive way. There won&#8217;t be any overlays, drop down menus, or pop ups that would block other components
in Unify. Having the suggestion directly next to the caret is an intuitive way of telling users what to type next.</p>
</div>
<div class="paragraph">
<p>Additionally, many new users are afraid to make mistakes when learning the command format. Inline hints assures new users that they will be guided through
until the end while they type their command.</p>
</div>
<hr>
</div>
<div class="sect3">
<h4 id="implementation-2"><a class="link" href="#implementation-2">Implementation</a></h4>
<div class="paragraph">
<p><mark>Start of Extract [from: Developer Guide]</mark></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="displaying-inline-hints"><a class="link" href="#displaying-inline-hints">Displaying Inline Hints</a></h3>
<div class="sect3">
<h4 id="inspiration"><a class="link" href="#inspiration">Inspiration</a></h4>
<div class="paragraph">
<p>We wish to display hints similar to how Apple&#8217;s Spotlight displays their completion and hints.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/AppleSpotlightSuggestions.jpg" alt="AppleSpotlightSuggestions" width="600">
</div>
</div>
</div>
<div class="sect3">
<h4 id="inline-hint-terms"><a class="link" href="#inline-hint-terms">Terms</a></h4>
<div class="paragraph">
<p>As of v1.5, an inline hint consists of a concatenation of an argument hint and a description.
An argument hint is an inline suggestion for the next letters to type. For example <strong>add |</strong> n/, n/ being the argument hint.
A description would describe the details of the current command you are typing.</p>
</div>
<div class="paragraph">
<p>Please refer to the illustration below.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/InlineHintsArgumentAndDescription.png" alt="InlineHintsArgumentAndDescription" width="800">
</div>
</div>
</div>
<div class="sect3">
<h4 id="how-we-implemented-it"><a class="link" href="#how-we-implemented-it">How we implemented it</a></h4>
<div class="paragraph">
<p>In <code>JavaFX</code> it is not possible to have a prompt text next to user&#8217;s input in a <code>TextField</code>.</p>
</div>
<div class="paragraph">
<p>In Unify, we have two <code>JavaFX</code> <code>TextFields</code> side by side. The input is keyed in the <code>CommandTextField</code> <code>TextField</code> while the inline hints are set in the <code>CommandBoxHints</code> <code>TextField</code>. These <code>TextFields</code> are placed in <code>HBox</code> and thus will not overlap.</p>
</div>
<div class="paragraph">
<p>At the start, the <code>CommandTextField</code> will be empty and length 0.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/InlineHintsStart.png" alt="InlineHintsStart" width="800">
</div>
</div>
<div class="paragraph">
<p>As the user keys in the input <code>CommandTextField</code> will grow based on the text keyed in with the the help of <code>TextUtil</code> methods. As the <code>CommandTextField</code> grows, the <code>HBox</code> will automatically push the <code>CommandBoxHints</code> to the right.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/InlineHintsTextFieldGrow.png" alt="InlineHintsTextFieldGrow" width="800">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
We clamp the size of the <code>CommandTextField</code> to half of the window size so that we have sufficient room for the hints.
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/InlineHintsWindowSize.png" alt="InlineHintsWindowSize" width="800">
</div>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-2"><a class="link" href="#design-considerations-2">Design Considerations</a></h4>
<div class="paragraph">
<p><strong>Aspect:</strong> Calculating displacement of hints to simulate inline hints<br>
<strong>Alternative 1 (current choice):</strong> Put two resizeable <code>TextFields</code> side by side. Let the <code>HBox</code> handle the displacement<br>
<strong>Pros:</strong> We have control on how big the <code>TextFields</code> can be.<br>
<strong>Cons:</strong>  Difficult to test the resize calculation as font rendered is different according to OS. Difficult to implement as we have to account for user clicking/tabbing into the <code>CommandBoxHints</code><br>
<strong>Alternative 2:</strong> Overlay a label over the <code>CommandTextField</code>. The label will contain the user input + the inline hint <br></p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/InlineHintsOverlay.png" alt="InlineHintsOverlay" width="400">
</div>
</div>
<div class="paragraph">
<p><strong>Pros:</strong> Easy to implement.<br>
<strong>Cons:</strong> Hints and Text mis-align when user input exceeds the length of the <code>TextField</code>, unable to find work around.<br></p>
</div>
<hr>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
</div>
</div>
<div class="sect2">
<h3 id="span-class-image-img-src-images-engsheng_header_enhancementadded-png-alt-engsheng-header-enhancementadded-width-900-span-3"><a class="link" href="#span-class-image-img-src-images-engsheng_header_enhancementadded-png-alt-engsheng-header-enhancementadded-width-900-span-3"><span class="image"><img src="../images/engsheng_header_enhancementadded.png" alt="engsheng header enhancementadded" width="900"></span></a></h3>

</div>
<div class="sect2">
<h3 id="enhancement-added-avatar"><a class="link" href="#enhancement-added-avatar">Enhancement Added: Avatar</a></h3>
<hr>
<div class="sect3">
<h4 id="external-behavior-3"><a class="link" href="#external-behavior-3">External behavior</a></h4>
<div class="paragraph">
<p>An <code>Avatar</code> is a picture you wish to associate a contact by. Most of the time, this will be his/her profile picture.
The <code>add</code> command allows users to indicate an <code>Avatar</code> they wish to save for the user. The command format is indicated below.</p>
</div>
<div class="paragraph">
<p><mark>Start of Extract [from: User Guide]</mark></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="adding-a-person-code-add-code"><a class="link" href="#adding-a-person-code-add-code">Adding a person: <code>add</code></a></h3>
<div class="imageblock">
<div class="content">
<img src="../images/UG_commandheader_add.png" alt="UG commandheader add" width="500">
</div>
</div>
<div class="paragraph">
<p><br>
Adding a new contact? Unify&#8217;s <code>add</code> command takes a person&#8217;s information and records it in Unify as a contact!</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UG_header_format.png" alt="UG header format" width="400">
</div>
</div>
<div class="paragraph">
<p>Format: <code>add n/NAME p/PHONE_NUMBER e/EMAIL a/ADDRESS [r/REMARK] [i/AVATAR_FILE_PATH] [t/TAG]&#8230;&#8203;</code></p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/header_note.png" alt="header note" width="400">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>You can have multiple tags for each of your contacts.</p>
</li>
<li>
<p>Remark, avatar and tag fields are optional! You do not have to fill them if you do not have any remarks, avatar picture, or tags to add currently.<br>
Don&#8217;t worry! You are still able to add these to your contacts later using the <a href="#editcommand">Edit</a> command.</p>
</li>
</ul>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Still unsure of what fields are required? Not to worry! Unify&#8217;s in-line hints will prompt you on the fields required.
Simply press <kbd>Tab</kbd> to autocomplete to the next required prefix!
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UG_header_alias.png" alt="UG header alias" width="400">
</div>
</div>
<div class="paragraph">
<p>Alias: <code>new</code>, <code>create</code></p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UG_header_examples.png" alt="UG header examples" width="400">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>add n/John Doe p/98765432 e/johnd@example.com a/John street, block 123, #01-01 r/Loves Tea</code></p>
</li>
<li>
<p><code>add n/Leonard Tan t/friend e/leonard@example.com a/Jurong East #23-24 p/1234567 i/d:/pictures/leonard.png t/classmates</code><br></p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UG_header_stepbystep.png" alt="UG header stepbystep" width="400">
</div>
</div>
<div class="paragraph">
<p><br>
<span class="image"><img src="../images/step1.png" alt="step1" width="70"></span> Simply type <code>add</code> into the command box first, then follow the format as shown above, after which press <kbd>Enter</kbd> to execute it.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UG_add1.png" alt="UG add1" width="590">
</div>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/step2.png" alt="step2" width="70"></span> The result box will display "New person added:" with the contact details that you have just input.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/step3.png" alt="step3" width="70"></span> Your contact list will display the newly added contact at the bottom of the list.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UG_add2.png" alt="UG add2" width="590">
</div>
</div>
<div class="paragraph">
<p><br></p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/header_warning.png" alt="header warning" width="400">
</div>
</div>
<div class="paragraph">
<p>Duplicate contact cannot be added! You cannot add a new contact that have same exact details as another contact in your contact list. You may encounter this message
"This person already exists in the address book" at <span class="image"><img src="../images/step2.png" alt="step2" width="70"></span> if you try to do so.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/header_note.png" alt="header note" width="400">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>When choosing the right image for your contact, make sure that the image is in .jpg or .png format.</p>
</li>
<li>
<p>For a contact&#8217;s avatar file path, you may specify the full path of the image (ie: d:/pictures/betsy.png)</p>
</li>
<li>
<p>For Windows users, if you are unsure how to get the path of the image click <a href="http://www.howto-connect.com/copy-path-of-a-file-or-folder-in-windows-10/">here</a></p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/divider.png" alt="divider" width="900">
</div>
</div>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
<div class="sect3">
<h4 id="justification-3"><a class="link" href="#justification-3">Justification</a></h4>
<div class="paragraph">
<p>Users are more likely to recognize a contact&#8217;s face than a contact&#8217;s name. At the same time, people are likely to have similar names
but different faces.</p>
</div>
<div class="paragraph">
<p>Pairing an <code>Avatar</code> to a contact is an almost mandatory feature of an Address Book as it helps users better identify the contact they have selected.</p>
</div>
<div class="paragraph">
<p>By having an additional non compulsory field in the <code>add</code> command for <code>Avatar</code> we have made it easy for users to remember how to add an
<code>Avatar</code> to a contact.
---
==== Implementation</p>
</div>
<div class="paragraph">
<p><mark>Start of Extract [from: Developer Guide]</mark></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="avatar"><a class="link" href="#avatar">Avatar</a></h3>
<div class="paragraph">
<p>When users add a contact, they have an option to specify an avatar for the person. If entered with a valid
path to a .jpg or .png, the image is stored under <code>data/images/avatars/</code> with a unique string id using Java&#8217;s <code>UUID</code>.</p>
</div>
<div class="paragraph">
<p>The <code>Avatar</code> will store the unique string id with its file format (eg UUID.png) as its value.<br></p>
</div>
<div class="paragraph">
<p>For contacts who were not given an <code>Avatar</code>. Their <code>Avatar</code> field will be an empty string. When selected, these people will have a default avatar.
The activity diagram when a person is selected is shown below.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/GetAvatarActivityDiagram.png" alt="GetAvatarActivityDiagram" width="800">
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-3"><a class="link" href="#design-considerations-3">Design Considerations</a></h4>
<div class="paragraph">
<p><strong>Aspect:</strong> How to save image<br>
<strong>Alternative 1 (current choice):</strong> Duplicate image is saved with a unique string id under data<br>
<strong>Pros:</strong> Application is easily portable - all image files stored in data folder<br>
<strong>Cons:</strong> Many images are created after multiple testing. (images won&#8217;t have the same name)<br>
<strong>Alternative 2:</strong> The absolute file path of the image is saved. When avatar needs to be displayed, the image will be fetched from there.<br>
<strong>Pros:</strong> Easy to implement.<br>
<strong>Cons:</strong> Application is not portable. If the jar and data files are transferred to a different computer, the <code>Avatar</code> loaded will be the default one.<br>
<strong>Alternative 3:</strong> Use online link to images<br>
<strong>Pros:</strong> Easy to implement.<br>
<strong>Cons:</strong> Application is not portable as it requires internet connection<br></p>
</div>
<hr>
<div class="paragraph">
<p><mark>End of Extract</mark></p>
</div>
<hr>
</div>
</div>
<div class="sect2">
<h3 id="span-class-image-img-src-images-engsheng_header_enhancementadded-png-alt-engsheng-header-enhancementadded-width-900-span-4"><a class="link" href="#span-class-image-img-src-images-engsheng_header_enhancementadded-png-alt-engsheng-header-enhancementadded-width-900-span-4"><span class="image"><img src="../images/engsheng_header_enhancementadded.png" alt="engsheng header enhancementadded" width="900"></span></a></h3>

</div>
<div class="sect2">
<h3 id="enhancement-added-person-panel"><a class="link" href="#enhancement-added-person-panel">Enhancement Added: Person Panel</a></h3>
<hr>
<div class="sect3">
<h4 id="external-behavior-4"><a class="link" href="#external-behavior-4">External behavior</a></h4>
<div class="paragraph">
<p>Details of a person (address, phone, email etc.) has been removed from a <code>PersonCard</code> in the <code>PersonListPanel</code>.
We only show name and tags.</p>
</div>
<div class="paragraph">
<p>These details are displayed in a <code>PersonPanel</code>.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/nicholas_personpanel.png" alt="nicholas personpanel" width="900"></span></p>
</div>
<div class="paragraph">
<p>The <code>PersonPanel</code> will display when a person is selected.</p>
</div>
<hr>
</div>
<div class="sect3">
<h4 id="justification-4"><a class="link" href="#justification-4">Justification</a></h4>
<div class="paragraph">
<p>We want Unify&#8217;s UI to be simple, clean and focused.</p>
</div>
<div class="paragraph">
<p>Having a <code>PersonPanel</code> directs the attention of the user to the details of a person. The larger text also
improves readability of a person&#8217;s details.</p>
</div>
<div class="paragraph">
<p>Additionally, by only showing tags and name in the <code>PersonListPanel</code> we are able to show more users in the list.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../images/nicholas_personlist.png" alt="nicholas personlist" width="900"></span></p>
</div>
<hr>
</div>
</div>
<div class="sect2">
<h3 id="enhancement-proposed-index-tab-cycle-improvement"><a class="link" href="#enhancement-proposed-index-tab-cycle-improvement">Enhancement Proposed: Index Tab Cycle Improvement</a></h3>
<div class="paragraph">
<p>Currently, when tabbing through index, the index only increases.
For example, for given input <code>delete 10|</code>, clicking <kbd>Tab</kbd> will increase the index to 11 (<code>delete 11|</code>) even if there are only 10 people displayed.</p>
</div>
<div class="paragraph">
<p>The enhancement proposed is cycle through index based on the number of people displayed in the the person list. This type of index cycling
makes more sense for the user (we do not want to offer an invalid index).</p>
</div>
<hr>
<div class="sect3">
<h4 id="implementation-3"><a class="link" href="#implementation-3">Implementation</a></h4>
<div class="paragraph">
<p>We need to bring an instance of the <code>Model</code> into <code>ArgumentsHint</code> and get the number of displayed people from <code>getFilteredPersonList()</code>.
After which we simply use modulo arithmetic to determine the next index to display. The methods that need to be modified are <code>handleOfferIndex()</code> and
<code>handleIndexTabbing()</code>. They have been labelled with a TODO in their header comment.</p>
</div>
<hr>
</div>
</div>
<div class="sect2">
<h3 id="enhancement-proposed-avatar-improvement"><a class="link" href="#enhancement-proposed-avatar-improvement">Enhancement Proposed: Avatar Improvement</a></h3>
<div class="paragraph">
<p>We improve <code>Avatar</code> by allowing users to put a URL for online images.
Like the current implementation, the file will be saved in the data folder.</p>
</div>
<div class="paragraph">
<p>This allows users to easily add profile pictures from social media sites as <code>Avatars</code> without saving the image before hand.</p>
</div>
<hr>
<div class="sect3">
<h4 id="implementation-4"><a class="link" href="#implementation-4">Implementation</a></h4>
<div class="paragraph">
<p>When saving an <code>Avatar</code> in <code>ImageStorage</code>, we add an additional check to see if the argument given is a valid URL.
After which we save the image as per current implementation.</p>
</div>
<hr>
</div>
</div>
<div class="sect2">
<h3 id="other-contributions"><a class="link" href="#other-contributions">Other contributions</a></h3>
<div class="ulist">
<ul>
<li>
<p>Created 2 UI Designs (Pull requests <a href="https://github.com/CS2103AUG2017-W11-B4/main/pull/10" class="bare">https://github.com/CS2103AUG2017-W11-B4/main/pull/10</a>, <a href="https://github.com/CS2103AUG2017-W11-B4/main/pull/14" class="bare">https://github.com/CS2103AUG2017-W11-B4/main/pull/14</a>)</p>
</li>
<li>
<p>Refactored Hints (Pull request: <a href="https://github.com/CS2103AUG2017-W11-B4/main/pull/98" class="bare">https://github.com/CS2103AUG2017-W11-B4/main/pull/98</a>, Implementation: <a href="https://github.com/CS2103AUG2017-W11-B4/main/blob/master/docs/DeveloperGuide.adoc#hints-and-autocomplete-parsing">4.11. Hints and AutoComplete Parsing</a>)</p>
</li>
<li>
<p>Added CommandInputChangedEvent (Pull request: <a href="https://github.com/CS2103AUG2017-W11-B4/main/pull/11" class="bare">https://github.com/CS2103AUG2017-W11-B4/main/pull/11</a>, Implementation: <a href="https://github.com/CS2103AUG2017-W11-B4/main/blob/master/docs/DeveloperGuide.adoc#listening-for-input-change">4.9. Listening for Input Change</a>)</p>
</li>
<li>
<p>Wrote prefaces for commands in User Guide (Pull request: <a href="https://github.com/CS2103AUG2017-W11-B4/main/pull/85" class="bare">https://github.com/CS2103AUG2017-W11-B4/main/pull/85</a>)</p>
</li>
<li>
<p>Wrote Introduction for User and Developer Guide (Pull requests: <a href="https://github.com/CS2103AUG2017-W11-B4/main/pull/64" class="bare">https://github.com/CS2103AUG2017-W11-B4/main/pull/64</a>, <a href="https://github.com/CS2103AUG2017-W11-B4/main/pull/48" class="bare">https://github.com/CS2103AUG2017-W11-B4/main/pull/48</a>)</p>
</li>
<li>
<p>Follow rebase then merge workflow with guidance from <a href="https://github.com/goweiwen">Goh Wei Wen</a> for linear commit history</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2017-11-13 11:15:49 +00:00
</div>
</div>
</body>
</html>